(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4302:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(5155),o=r(2115),a=r(3264),i=r(7431);let s={nx:360,ny:181,max:28.700000762939453,data:function(e,t){let r=[],n=[{centerX:180,centerY:90.5,strength:12,radius:e/4,rotationFactor:25,weight:1},{centerX:e/2-e/5,centerY:t/2+t/6,strength:6,radius:e/8,rotationFactor:15,weight:.7},{centerX:e/2+e/4,centerY:t/2-t/5,strength:5,radius:e/10,rotationFactor:20,weight:.6}],o={angle:Math.PI/6,strength:2};for(let a=0;a<t;a++)for(let t=0;t<e;t++){let e;let i=0;for(let r of(e=0+Math.cos(o.angle)*o.strength,i+=Math.sin(o.angle)*o.strength,n)){let n=t-r.centerX,o=a-r.centerY,s=Math.sqrt(n*n+o*o),l=Math.max(0,1-s/r.radius);if(l>0){let t=Math.atan2(o,n)+s/r.rotationFactor,a=r.strength*l*l*r.weight,d=Math.cos(t)*a,c=Math.sin(t)*a;e+=d,i+=c}}e+=(Math.random()-.5)*.5,i+=(Math.random()-.5)*.5,r.push([e,i])}return r}(360,181)};function l(){let e=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!e.current)return;let t=new a.Z58,r=window.innerWidth,n=window.innerHeight,o=new a.qUd(-r/2,r/2,n/2,-n/2,-1e3,1e3),l=new i.JeP({canvas:e.current,antialias:!0});l.setSize(r,n),l.setPixelRatio(Math.min(window.devicePixelRatio,2));let d=new a.LoY,c=[],u=[];for(let e=0;e<15e3;e++){let e=a.cj9.randFloatSpread(r),t=a.cj9.randFloatSpread(n);c.push(e,t,0),u.push(1,1,1)}d.setAttribute("position",new a.qtW(c,3)),d.setAttribute("color",new a.qtW(u,3));let f=new a.BH$({vertexColors:!0,size:1.5,transparent:!0,opacity:.8}),h=new a.ONl(d,f);t.add(h);let p=new a.nWS(r,n,{minFilter:a.k6q,magFilter:a.k6q,format:a.GWd}),g=new a.nWS(r,n,{minFilter:a.k6q,magFilter:a.k6q,format:a.GWd}),m=p,v=g,w=new a.BKk({uniforms:{tDiffuse:{value:null},opacity:{value:.97},fadeEdges:{value:.05}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D tDiffuse;\n        uniform float opacity;\n        uniform float fadeEdges;\n        varying vec2 vUv;\n        \n        void main() {\n          vec4 texel = texture2D(tDiffuse, vUv);\n          \n          // 边缘淡出效果\n          float distFromCenter = length(vUv - 0.5) * 2.0;\n          float edgeFade = smoothstep(1.0 - fadeEdges, 1.0, distFromCenter);\n          \n          gl_FragColor = vec4(texel.rgb, texel.a * opacity * (1.0 - edgeFade));\n        }\n      ",transparent:!0}),x=new a.eaF(new a.bdM(r,n),w);x.position.z=-1,t.add(x),l.setRenderTarget(p),l.clear(),l.setRenderTarget(g),l.clear(),l.setRenderTarget(null),!function e(){requestAnimationFrame(e);let i=h.geometry.attributes.position.array,d=h.geometry.attributes.color.array;for(let e=0;e<i.length;e+=3){if(.005>Math.random()){let t=a.cj9.randFloatSpread(r),o=a.cj9.randFloatSpread(n);i[e]=t,i[e+1]=o;continue}let t=s.nx/r,o=s.ny/n,l=Math.floor((i[e]+r/2)*t),c=Math.floor((i[e+1]+n/2)*o);if(l>=0&&l<s.nx&&c>=0&&c<s.ny){let t=c*s.nx+l;if(s.data[t]){let o=s.data[t][0]/s.max,a=s.data[t][1]/s.max;i[e]+=2.5*o,i[e+1]+=2.5*a,i[e]>r/2&&(i[e]=-r/2),i[e]<-r/2&&(i[e]=r/2),i[e+1]>n/2&&(i[e+1]=-n/2),i[e+1]<-n/2&&(i[e+1]=n/2);let[l,c,u]=function(e){let t=[{speed:0,color:[.2,.2,.5]},{speed:.2,color:[.5,.5,1]},{speed:.4,color:[1,1,1]},{speed:.6,color:[1,.8,.2]},{speed:.8,color:[1,.4,0]},{speed:1,color:[1,0,0]}],r=0;for(let n=0;n<t.length-1;n++)if(e>=t[n].speed&&e<=t[n+1].speed){r=n;break}if(e>=t[t.length-1].speed)return t[t.length-1].color;if(e<=t[0].speed)return t[0].color;let n=t[r],o=t[r+1],a=(e-n.speed)/(o.speed-n.speed);return[n.color[0]+a*(o.color[0]-n.color[0]),n.color[1]+a*(o.color[1]-n.color[1]),n.color[2]+a*(o.color[2]-n.color[2])]}(Math.min(1,2.5*Math.sqrt(o*o+a*a)));d[e]=l,d[e+1]=c,d[e+2]=u}}}h.geometry.attributes.position.needsUpdate=!0,h.geometry.attributes.color.needsUpdate=!0;let c=m;m=v,v=c,w.uniforms.tDiffuse.value=v.texture,l.setRenderTarget(m),l.render(t,o),l.setRenderTarget(null),l.render(t,o)}();let M=()=>{let e=window.innerWidth,t=window.innerHeight;o.left=-e/2,o.right=e/2,o.top=t/2,o.bottom=-t/2,o.updateProjectionMatrix(),l.setSize(e,t),p.setSize(e,t),g.setSize(e,t),x.scale.set(e,t,1)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),l.dispose(),p.dispose(),g.dispose(),d.dispose(),f.dispose(),w.dispose()}},[]),(0,n.jsx)("canvas",{ref:e,className:"w-full h-full"})}},6648:(e,t,r)=>{Promise.resolve().then(r.bind(r,4302))}},e=>{var t=t=>e(e.s=t);e.O(0,[367,831,441,684,358],()=>t(6648)),_N_E=e.O()}]);